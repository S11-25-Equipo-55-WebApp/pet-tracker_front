<div class="login-container">
  <!-- Header -->
  <header class="header">
    <button class="back-button" (click)="goBack()" aria-label="Volver">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
    </button>

    <button class="menu-button" aria-label="Menú">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 12h18M3 6h18M3 18h18"/>
      </svg>
    </button>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Logo Section -->
    <div class="logo-section">
      <div class="logo-circle">
        <svg class="logo-icon" viewBox="0 0 100 100" fill="none" stroke="white" stroke-width="3">
          <!-- Silueta estilizada de perro/gato -->
          <path d="M30 70 Q25 60, 30 50 Q35 40, 40 35 L45 30 Q50 25, 55 30 L60 35 Q65 40, 70 50 Q75 60, 70 70 L65 75 Q60 80, 55 75 L50 70 Q45 75, 40 75 L35 75 Q30 75, 30 70Z" />
          <circle cx="42" cy="45" r="2" fill="white" />
          <circle cx="58" cy="45" r="2" fill="white" />
        </svg>
      </div>
      <h2 class="app-title">Pet Health Tracker</h2>
      <p class="app-subtitle">by Usuario</p>
    </div>

    <!-- Login Form -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <!-- Username Field -->
      <div class="form-group">
        <div class="input-wrapper">
          <input
            type="text"
            id="username"
            formControlName="userName"
            class="form-input"
            placeholder="Agregar usuario"
            [class.error]="loginForm.get('username')?.invalid && loginForm.get('username')?.touched"
          />
          <button
            type="button"
            class="clear-button"
            *ngIf="loginForm.get('username')?.value"
            (click)="loginForm.get('username')?.setValue('')"
            aria-label="Limpiar campo"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M15 9l-6 6M9 9l6 6"/>
            </svg>
          </button>
        </div>
        <span class="supporting-text">Supporting text</span>
        <span class="error-message" *ngIf="usernameError">{{ usernameError }}</span>
      </div>

      <!-- Password Field -->
      <div class="form-group">
        <div class="input-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            formControlName="password"
            class="form-input"
            placeholder="Password"
            [class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
          />
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility('password')"
            aria-label="Mostrar/Ocultar contraseña"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path *ngIf="!showPassword" d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
              <circle *ngIf="!showPassword" cx="12" cy="12" r="3"/>
              <path *ngIf="showPassword" d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24M1 1l22 22"/>
            </svg>
          </button>
        </div>
        <span class="supporting-text">Supporting text</span>
        <span class="error-message" *ngIf="passwordError">{{ passwordError }}</span>
      </div>

      <!-- Confirm Password Field -->
      <div class="form-group">
        <div class="input-wrapper">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            id="confirmPassword"
            formControlName="confirmPassword"
            class="form-input"
            placeholder="Agregar contraseña"
            [class.error]="loginForm.get('confirmPassword')?.invalid && loginForm.get('confirmPassword')?.touched"
          />
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility('confirm')"
            aria-label="Mostrar/Ocultar contraseña"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path *ngIf="!showConfirmPassword" d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
              <circle *ngIf="!showConfirmPassword" cx="12" cy="12" r="3"/>
              <path *ngIf="showConfirmPassword" d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24M1 1l22 22"/>
            </svg>
          </button>
        </div>
        <span class="supporting-text">Supporting text</span>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="submit-button"
        [disabled]="isLoading || loginForm.invalid"
        [class.loading]="isLoading"
      >
        <span *ngIf="!isLoading" class="button-content">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M13.8 12H3"/>
          </svg>
          Ingresar
        </span>
        <span *ngIf="isLoading" class="spinner"></span>
      </button>

      <!-- Register Link -->
      <div class="register-section">
        <button type="button" class="register-link" (click)="navigateToRegister()">
          Registrarse
        </button>
        <p class="register-question">¿Olvidó su contraseña?</p>
      </div>
    </form>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <button class="nav-item" aria-label="Inicio">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
      </svg>
    </button>
    <button class="nav-item" aria-label="Usuarios">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
        <circle cx="9" cy="7" r="4"/>
        <path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
      </svg>
    </button>
    <button class="nav-item" aria-label="Perfil">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
        <circle cx="8.5" cy="8.5" r="1.5"/>
        <path d="M21 15l-5-5L5 21"/>
      </svg>
    </button>
    <button class="nav-item" aria-label="Galería">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="3" width="7" height="7"/>
        <rect x="14" y="3" width="7" height="7"/>
        <rect x="14" y="14" width="7" height="7"/>
        <rect x="3" y="14" width="7" height="7"/>
      </svg>
    </button>
  </nav>
</div>
